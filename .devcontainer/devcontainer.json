# Codespace definition file
# See https://aka.ms/codespaces-docs for more information on Codespaces definition files.

version: 1

# The name of the Codespace
name: Java Codespace

# The description of the Codespace
description: >-
  A Codespace for Java development with Maven, Gradle, and IntelliJ IDEA.

# The image of the Codespace
image: mcr.microsoft.com/devcontainers/java:17

# Ports to expose from the Codespace
ports:
  - port: 8080

# Initial commands to run when the Codespace is created
startupCommands:
  - mvn install

# Additional commands to run before starting the Codespace.
postStartCommands:
  - cd target
  - java -jar myproject.jar

# Environment variables to set in the Codespace
env:
  - MAVEN_OPTS: "-Xmx1G -Xss1024k"

# The pre-installed software on the Codespace.
# For a full list of available software, see https://aka.ms/codespaces-pre-installed-software
preInstalledSoftware:
  - name: maven
  - name: gradle
  - name: java
  - name: nodejs
  - app: intellij-idea-community

# Remote development extensions to install
extensions:
  - ms-vscode-remote.vscode-remote-extensionpack

# Custom git configurations
git:
  # auto-fetch inside Codespace
  fetch: true
